version: '3.9'

services:
  runner:
    image: gitea/act_runner:0.2.8
    container_name: gitea_runner
    restart: always
    volumes:
      - "./runner:/data"
      - "./config.yml:/config.yml"
    environment:
      TZ: Europe/Berlin
      CONFIG_FILE: "/config.yml" 
      GITEA_INSTANCE_URL: "https://${GITEA_FQDN}"
      GITEA_RUNNER_REGISTRATION_TOKEN: "${RUNNER_TOKEN}"
      GITEA_RUNNER_NAME: "${RUNNER_NAME}"
      GITEA_RUNNER_LABELS: "${RUNNER_LABELS}"
